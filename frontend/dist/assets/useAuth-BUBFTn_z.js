import{h as l,i as o,j as p}from"./index-B2-RunWW.js";function y(){const t=l(),r=p(),n=o(()=>!!t.user),a=o(()=>t.user),i=o(()=>t.loading),c=o(()=>t.error);async function h(e,s){await t.login(e,s);const u=r.currentRoute.value.query.redirect||"/dashboard";r.push(u)}async function d(e,s,u){await t.register(e,s,u),r.push("/dashboard")}async function g(){await t.logout(),r.push("/login")}return{isAuthenticated:n,currentUser:a,isLoading:i,authError:c,login:h,register:d,logout:g}}export{y as u};
