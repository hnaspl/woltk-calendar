import{s as m,r,i as p}from"./index-B2-RunWW.js";import{g as y}from"./events-CGIxMRf0.js";const S=m("calendar",()=>{const s=r([]),l=r(!1),u=r(null),e=r({realm:"",raidType:"",size:"",status:""}),o=p(()=>s.value.filter(a=>!(e.value.realm&&a.realm!==e.value.realm||e.value.raidType&&a.raid_type!==e.value.raidType||e.value.size&&String(a.size)!==String(e.value.size)||e.value.status&&a.status!==e.value.status)));async function v(a,n={}){var i,f;l.value=!0,u.value=null;try{const t=await y(a,{...n});s.value=t}catch(t){u.value=((f=(i=t==null?void 0:t.response)==null?void 0:i.data)==null?void 0:f.message)||"Failed to load events"}finally{l.value=!1}}function c(a,n){a in e.value&&(e.value[a]=n)}function d(){e.value={realm:"",raidType:"",size:"",status:""}}return{events:s,filteredEvents:o,filters:e,loading:l,error:u,fetchEvents:v,setFilter:c,clearFilters:d}});export{S as u};
